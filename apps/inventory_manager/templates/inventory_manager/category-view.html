{% extends 'inventory_manager/base.html' %}

{% block content %}
<div class="container">
  {% if cat %}
  <style>.id{font-weight:bold;}td:first-child{width:30%}</style>
  <h2>{{ cat.name }} Category</h2>
  <div class="table-responsive">
    <table class="table table-striped">
      <tbody>
        <tr>
          <td class="id">Category:</td>
          <td>{{ cat.name }}</td>
        </tr>
        <tr>
          <td class="id">Products in Category:</td>
          <td>{{ cat.product_set.all|length }}</td>
        </tr>
      </tbody>
    </table>

  {% else %}
  <h2>View Categories</h2>
  <div class="table-responsive">
    <table class="table table-striped">
      <thead>
        <tr>
          <th>Name</th><th>Products in Category</th>
        </tr>
      </thead>
      <tbody>
        {% for cat in cats %}
        <tr>
          <td><a href="{% url 'inv-mgr:category-view' cat.pk %}">{{ cat.name }}</a></td><td>{{ cat.product_set.all|length }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>

  {% endif %}
</div>
{% endblock %}
