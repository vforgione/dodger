{% extends 'app/reporting/base.html' %}

{% block extrahead %}
<style>table{font-size:0.8em;}</style>
{% endblock %}

{% block content %}
<div class="table-responsive">
<form action="." method="get">
  <table class="table">
  <tbody>
    <tr>
      <td class="col-md-6">
        <div class="form-group">
          <label for="name">Name</label><input type="text" name="name" id="name" class="form-control" />
        </div>
      </td>
      <td class="col-md-6">
        <div class="form-group">
          <label for="category">Category</label><input type="text" name="category" id="category" class="form-control" />
        </div>
      </td>
    </tr>
    <tr>
      <td class="col-md-6">
        <div class="form-group">
          <label for="brand">Brand</label><input type="text" name="brand" id="brand" class="form-control" />
        </div>
      </td>
      <td class="col-md-6">
        <div class="form-group">
          <label for="owner">Owner</label><input type="text" name="owner" id="owner" class="form-control" />
        </div>
      </td>
    </tr>
  </tbody>
  </table>
  <input type="submit" value="Update Table" class="btn btn-primary default" name="save">
</form>
</div>

<p>&nbsp;</p>

{% if skus %}
{% if params|length %}
<div class="alert-info">
  <p>Search Parameters: {{ params|join:", " }}</p>
</div>
{% endif %}

<div class="pull-right"><a href="/sku/export/?{{ request.GET.urlencode }}" target="_blank" class="btn btn-primary default" >Export This Table</a></div>
<div class="table-responsive">
<table class="table table-striped table-condensed">
<thead>
  <tr>
    <th>ID</th><th>Name</th><th>Categories</th><th>Brand</th><th>Supplier</th>
    <th>Owner</th><th>Reorder Threshold</th><th>Notify Owner</th><th>Cost</th>
    <th>Mfr SKU</th><th>Case Qty</th><th>Location</th><th>Qty on Hand</th>
    <th>In Live Deal</th><th>Attributes</th>
  </tr>
</thead>
<tbody>
  {% for sku in skus %}
  <tr>
    <td>{{ sku.id }}</td>
    <td>{{ sku.name }}</td>
    <td>{{ sku.categories.all|join:", " }}</td>
    <td>{{ sku.brand }}</td>
    <td>{{ sku.supplier }}</td>
    <td>{{ sku.owner }}</td>
    <td>{{ sku.reorder_threshold }}</td>
    <td>{{ sku.notify_at_threshold }}</td>
    <td>{{ sku.cost }}</td>
    <td>{{ sku.mfr_sku }}</td>
    <td>{{ sku.case_qty }}</td>
    <td>{{ sku.location }}</td>
    <td>{{ sku.qty_on_hand }}</td>
    <td>{{ sku.in_live_deal }}</td>
    <td>{{ sku.get_attributes|join:", " }}</td>
  </tr>
  {% endfor %}
</tbody>
</table>

<div class="pull-left">
  {% if skus.has_previous %}
  <div class="button"><a href="?page={{ skus.previous_page_number }}">Previous</a></div>
  {% endif %}

  <div>Page {{ skus.number }} of {{ skus.paginator.num_pages }}</div>

  {% if skus.has_next %}
  <div class="button"><a href="?page={{ skus.next_page_number }}">Next</a></div>
  {% endif %}
</div>

<div class="pull-right"><a href="/sku/export/?{{ request.GET.urlencode }}" target="_blank" class="btn btn-primary default" >Export This Table</a></div>
</div>

{% else %}
<div class="alert-danger">
  Nothing matched your specifications.<br />
  Search Parameters: {{ params|join:", " }}
</div>

{% endif %}
{% endblock %}
